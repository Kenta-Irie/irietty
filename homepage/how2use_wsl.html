
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <meta http-equiv="content-style-type" content="text/css" />
 <meta http-equiv="Content-Script-Type" content="text/javascript" />

 <title>WSLを使う - 暴風雨 計算機 Wiki</title>
 <link rel="stylesheet" href="skin/irid/cloudwalk/cloudwalk.css" title="cloudwalk" type="text/css" charset="Shift_JIS" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />
 <script type="text/javascript" src="skin/irid/external_link.js"></script>
 <script type="text/javascript" src="skin/trackback.js"></script>


</head>
<body>
<div id="wrapper"><!-- ■BEGIN id:wrapper -->
<!-- ◆ Header ◆ ========================================================== -->
<div id="header">
<div id="logo"><a href="./">暴風雨 計算機 Wiki</a></div>
</div>
<!-- ◆ Navigator ◆ ======================================================= -->
<div id="navigator">
	
</div>
<!-- ◆ Content ◆ ========================================================= -->
<div id="main"><!-- ■BEGIN id:main -->
<div id="wrap_content"><!-- ■BEGIN id:wrap_content -->
<div id="content"><!-- ■BEGIN id:content -->
<div id="page_navigator"><!-- ■BEGIN id:page_navigator -->
	
</div><!-- □END id:PageNavigator -->
<h1 class="title"><a href="./?plugin=related&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">WSLを使う</a> </h1>
<!-- ■BEGIN id:lastmodified -->
<div id="lastmodified">Last-modified: 2024-04-08 (月) 13:47:36<span class="page_passage" data-mtime="2024-04-08T13:47:36+09:00"></span></div>
<!-- □END id:lastmodified -->
<div id="body"><!-- ■BEGIN id:body -->

<p>作成：入江 2020/04/23
最終更新：2022/01/12</p>
<div class="contents">
<a id="contents_1"></a>
<ul class="list1 list-indent1"><li><a href="#cd67fac4"> WSLを使うにあたって </a>
<ul class="list2 list-indent1"><li><a href="#x4088909"> WSLとは </a></li>
<li><a href="#h74523aa"> WSLを使う準備 </a></li>
<li><a href="#o915df34"> Linuxを実行するアプリを取得する </a></li></ul></li>
<li><a href="#aec76cdd"> Ubuntuの初期設定 </a>
<ul class="list2 list-indent1"><li><a href="#g85dde7f"> リポジトリの変更とパッケージの更新 </a></li>
<li><a href="#ib44b540"> タイムゾーンの設定 </a></li></ul></li>
<li><a href="#pa3bff57"> パッケージのインストール </a>
<ul class="list2 list-indent1"><li><a href="#lc27c695"> 開発ツールをインストールする </a></li>
<li><a href="#zcd6cf1f"> SSHの準備 </a></li></ul></li>
<li><a href="#f78b2458"> GUIでEmacsやGrADSを使う準備 </a>
<ul class="list2 list-indent1"><li><a href="#y21f52e2"> Ubuntu側の設定 </a></li>
<li><a href="#n3994138"> Windows側の設定 </a></li></ul></li>
<li><a href="#i803aada"> Emacsを使う </a>
<ul class="list2 list-indent1"><li><a href="#bb9c35e6"> Emacsのインストール </a></li>
<li><a href="#b165daea"> Emacsの起動画面の設定 </a></li></ul></li>
<li><a href="#ua7513a2"> VS Codeを使う </a></li>
<li><a href="#n6620707"> GrADSを使う </a>
<ul class="list2 list-indent1"><li><a href="#t33163ae"> GrADSのインストール </a></li>
<li><a href="#d7e0b508"> gradslibの取得 </a></li>
<li><a href="#beb76644"> GrADSの設定 </a></li></ul></li>
<li><a href="#he637667"> ディレクトリ構造 </a>
<ul class="list2 list-indent1"><li><a href="#bc8f8bc2"> WSLとWindowsのディレクトリ構造 </a></li></ul></li>
<li><a href="#s9c37a6c"> トラブルシューティング </a>
<ul class="list2 list-indent1"><li><a href="#he6396ed"> VS Code Server for WSL closed unexpectedlyが出て急に使えなくなる </a></li>
<li><a href="#dd510330"> SSH接続がうまくいかない </a></li>
<li><a href="#y4f06ac5"> SSHがつながらなくなった(VSCODE) </a></li>
<li><a href="#fc895eb7"> FTPでデータをダウンロードできない </a></li>
<li><a href="#a9a5f4d3"> HDDのマウントが自動解除されてしまう </a></li></ul></li></ul>
</div>

<h2 id="content_1_0">WSLを使うにあたって  <a class="anchor_super" id="cd67fac4" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#cd67fac4" title="cd67fac4" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_1">WSLとは  <a class="anchor_super" id="x4088909" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#x4088909" title="x4088909" style="user-select:none;">&dagger;</a></h3>
<p>WSL（Windows Subsystem for Linux ）を利用するとWindows上でLinuxを動かすことができる。Windows10から実装された。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_2">WSLを使う準備  <a class="anchor_super" id="h74523aa" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#h74523aa" title="h74523aa" style="user-select:none;">&dagger;</a></h3>
<p>まず初めに、「Windowsの機能の有効化」からWindows Subsystem for Linux機能を有効にする必要がある。</p>
<p>コントロールパネル→プログラム→Windowsの機能の有効化または無効化→Windows Subsystem for Linuxにチェックを入れOKをする→確認画面で今すぐ再起動</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_3">Linuxを実行するアプリを取得する  <a class="anchor_super" id="o915df34" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#o915df34" title="o915df34" style="user-select:none;">&dagger;</a></h3>
<p>Microsoft Storeから自分の好みに合わせたアプリを入手する。ここでは例として、Ubuntu18.04LTSをダウンロードする。</p>
<p>Microsoft StoreでUbuntu18.04LTSと検索→入手→起動</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_4">Ubuntuの初期設定  <a class="anchor_super" id="aec76cdd" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#aec76cdd" title="aec76cdd" style="user-select:none;">&dagger;</a></h2>
<p>①ターミナル画面に移ると、インストールのため数分待つよう指示されるので、コーヒーでも飲みながら優雅に待つ。</p>
<p>②インストールが終了するとユーザー名とパスワードを入力する画面に移るので、お好きな名前とパスワードを入力する。これはsudoコマンドを用いる際のパスワードになる。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_5">リポジトリの変更とパッケージの更新  <a class="anchor_super" id="g85dde7f" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#g85dde7f" title="g85dde7f" style="user-select:none;">&dagger;</a></h3>
<p>リポジトリの変更とパッケージリストの更新を行う。デフォルトのリポジトリがアメリカなので、日本に変更する。apt updateの時間短縮になる。リポジトリ情報が書いてあるsources.listのバックアップを作成し、archive.ubuntu.comをjp.archive.ubuntu.comに変更する。</p>
<pre>$ cd /etc/apt
$ sudo sed -i.bak -e &quot;s%http://archive.ubuntu.com/ubuntu/%http://jp.archive.ubuntu.com/ubuntu/%g&quot; sources.list</pre>
<p>次にパッケージリストの更新をする。apt updateコマンドで最新情報を取得し、apt upgradeコマンドでインストールされているパッケージの更新を行う。</p>
<pre>$ sudo apt update
$ sudo apt upgrade</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_6">タイムゾーンの設定  <a class="anchor_super" id="ib44b540" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#ib44b540" title="ib44b540" style="user-select:none;">&dagger;</a></h3>
<p>下記のコマンドを入力すると青い画面に切り替わるので、Asia→Tokyoを選択する。</p>
<pre>$ sudo dpkg-reconfigure tzdata</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">パッケージのインストール  <a class="anchor_super" id="pa3bff57" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#pa3bff57" title="pa3bff57" style="user-select:none;">&dagger;</a></h2>
<p>ここからは、お好みで、必要なパッケージをインストールしていく。aptとapt-getも同じようなものだが、最近のUbuntuではaptコマンドを用いることが推奨されている。パッケージのインストールは以下のコマンドを用いて行える。</p>
<pre>$ sudo apt install パッケージ名</pre>
<p>GMTやGnuplotもこの方法でインストールできる。</p>
<pre>$ sudo apt install GMT
$ sudo apt install gnuplot</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_8">開発ツールをインストールする  <a class="anchor_super" id="lc27c695" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#lc27c695" title="lc27c695" style="user-select:none;">&dagger;</a></h3>
<pre>$ sudo apt install build-essential</pre>
<p>これで、gccやmakeが使えるはずである。
Fortranがインストールされているか確認するときは、</p>
<pre>$ gfortran --version</pre>
<p>で確認できる。インストールされていなければ、</p>
<pre>$ sudo apt install gfortran</pre>
<p>などでインストールしてみるとよい。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_9">SSHの準備  <a class="anchor_super" id="zcd6cf1f" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#zcd6cf1f" title="zcd6cf1f" style="user-select:none;">&dagger;</a></h3>
<p>まず、openssh-serverをインストールする。おそらく標準装備されているはずだが、一応入力。</p>
<pre>$ sudo apt install openssh-server</pre>
<p>次に、/etc/ssh/sshd_configの設定を行う。パスワードでのログインを有効にするため、設定ファイルを開く。Emacsのインストールは<a href="./?Emacs" class="link_page_passage" data-mtime="2021-09-28T20:30:41+09:00">Emacs</a>や後述の&quot;Emacsを使う&quot;を参照。</p>
<pre>$ emacs /etc/ssh/sshd_config &amp;</pre>
<p>sshd_configの内容を以下のように書き変える。</p>
<pre>PasswordAuthentication yes</pre>
<p>書き換えたら、sshを再起動する。</p>
<pre>$ service ssh restart</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_10">GUIでEmacsやGrADSを使う準備  <a class="anchor_super" id="f78b2458" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#f78b2458" title="f78b2458" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_11">Ubuntu側の設定  <a class="anchor_super" id="y21f52e2" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#y21f52e2" title="y21f52e2" style="user-select:none;">&dagger;</a></h3>
<p>Xサーバーを用いる際に必要なソフト３つをインストールする。その後、.bashrcという設定ファイルを開く。</p>
<pre>$ sudo apt install x11-apps x11-utils x11-xserver-utils dbus-x11
$ emacs ~/.bashrc &amp;</pre>
<p>設定ファイルの最後に以下のコマンドを追加する。</p>
<pre>export DISPLAY=localhost:0.0</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_12">Windows側の設定  <a class="anchor_super" id="n3994138" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#n3994138" title="n3994138" style="user-select:none;">&dagger;</a></h3>
<p>Windows側でXサーバーのアプリをインストールしておけば、Windows側でXサーバーを起動した状態で、WSL側でGUIが使えるようになる。</p>
<p>Windows側のXサーバーは何でもいいが、VcXsrvやXming、Cygwinといったところだろうか。Windows側でXサーバーをダウンロードしたら、実行する。実行したら、ターミナルで</p>
<pre>$ xexes</pre>
<p>と入力し、お目目が出たら成功である。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_13">Emacsを使う  <a class="anchor_super" id="i803aada" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#i803aada" title="i803aada" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_14">Emacsのインストール  <a class="anchor_super" id="bb9c35e6" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#bb9c35e6" title="bb9c35e6" style="user-select:none;">&dagger;</a></h3>
<p>とりあえずEmacsをインストールしてみたいので、特にバージョンにこだわりがなければ、以下の通りにコマンドを入力する。バージョンにこだわりがある方はemacsの後にバージョンを追加すればよい。その後、インストールされたEmacsのバージョンの確認を行うと、バージョン25.2.2であることがわかる。</p>
<pre>$ sudo apt install emacs
$ emacs –version
GNU Emacs 25.2.2</pre>
<p>Emacsは以下のコマンドで起動することができる。ファイル名と&amp;をつけておくのをお勧めする。Xサーバーが使える状態で&amp;をつけて起動すれば、編集中もターミナルで別の作業を行うことができる。</p>
<pre>$ emacs ファイル名 &amp;</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_15">Emacsの起動画面の設定  <a class="anchor_super" id="b165daea" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#b165daea" title="b165daea" style="user-select:none;">&dagger;</a></h3>
<p>Emacsを起動したとき、ロゴや情報、メッセージが出てくる。毎回このような起動画面を消すのは面倒なので、emacsの設定ファイル（.emacsや.emacs.d/init.el）をいじる。</p>
<pre>$emacs ~/.emacs.d/init.el &amp;</pre>
<p>.emacs.d/init.elが無ければ作成し、設定を記述してカスタマイズすることをお勧めする。以下はおすすめの設定である。
起動画面やメッセージを消すには</p>
<pre>(setq inhibit-startup-message t)
(setq inhibit-startup-screen t)
(setq initial-scratch-message nil)</pre>
<p>を追加する。これで、真っ白な状態で起動する。
そのほかは<a href="./?Emacs" class="link_page_passage" data-mtime="2021-09-28T20:30:41+09:00">Emacs</a>を参照。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_16">VS Codeを使う  <a class="anchor_super" id="ua7513a2" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#ua7513a2" title="ua7513a2" style="user-select:none;">&dagger;</a></h2>
<p>Emacsやvimでもいいが、最近は便利なエディターが出ているようだ。
VS Codeを使うと、いちいちターミナルを開かなくて済む。私は最近はこちらに浮気してしまった（すまんEmacs）。
ちなみに、VS CodeはWindows上にダウンロードするが、WSLと連動させることができる。
2022年1月現在、やっぱりEmacsに戻ってきた。愛してるよEmacs♡</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_17">GrADSを使う  <a class="anchor_super" id="n6620707" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#n6620707" title="n6620707" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_18">GrADSのインストール  <a class="anchor_super" id="t33163ae" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#t33163ae" title="t33163ae" style="user-select:none;">&dagger;</a></h3>
<p>今回はaptでインストールする。</p>
<pre>$ sudo apt install grads</pre>
<p>もちろんwgetでダウンロードする方法もある。</p>
<blockquote><p class="quotation"><a href="http://wind.geophys.tohoku.ac.jp/index.php?%B8%F8%B3%AB%BE%F0%CA%F3/GrADS/GrADS%A4%CE%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB" rel="nofollow">http://wind.geophys.tohoku.ac.jp/index.php?%B8%F8%B3%AB%BE%F0%CA%F3/GrADS/GrADS%A4%CE%A5%A4%A5%F3%A5%B9%A5%C8%A1%BC%A5%EB</a></p></blockquote>
<p>起動は以下のコマンドである。</p>
<pre>$ grads</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_19">gradslibの取得  <a class="anchor_super" id="d7e0b508" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#d7e0b508" title="d7e0b508" style="user-select:none;">&dagger;</a></h3>
<p>gradslibがない状態なので取ってくる。筑波大の釜江さんがまとめてくれているので、ありがたく使わせていただく。</p>
<blockquote><p class="quotation"><a href="https://researchmap.jp/multidatabases/multidatabase_contents/detail/232785/5dc1aaaf5a0d631c7e4b20d34f002f6c?frame_id=822841" rel="nofollow">https://researchmap.jp/multidatabases/multidatabase_contents/detail/232785/5dc1aaaf5a0d631c7e4b20d34f002f6c?frame_id=822841</a></p></blockquote>
<p>gradslib.zipをダウンロードして解凍する。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_20">GrADSの設定  <a class="anchor_super" id="beb76644" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#beb76644" title="beb76644" style="user-select:none;">&dagger;</a></h3>
<p>初期の状態ではGrADSでお絵描きしても、カラーバーをいじったりできない。gradslibがあるフォルダを参照するようにしてあげればよい。</p>
<pre>$ emacs ~/.bashrc &amp;</pre>
<p>.bashrcに以下の文を加える。gradslibのフォルダーがある位置にパスを通してやればよい</p>
<pre>$ export GASCRP=/gradslibがある場所/gradslib</pre>
<p>gradslibフォルダーに入っているgsファイルの説明は以下を参照。</p>
<p>釜江さん</p>
<blockquote><p class="quotation"><a href="https://seesaawiki.jp/ykamae_grads-note/d/GrADS%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8%A5%E9%A5%A4%A5%D6%A5%E9%A5%EA#content_2" rel="nofollow">https://seesaawiki.jp/ykamae_grads-note/d/GrADS%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8%A5%E9%A5%A4%A5%D6%A5%E9%A5%EA#content_2</a></p></blockquote>
<p>児玉さん</p>
<blockquote><p class="quotation"><a href="http://kodama.fubuki.info/wiki/wiki.cgi/GrADS/script?lang=jp" rel="nofollow">http://kodama.fubuki.info/wiki/wiki.cgi/GrADS/script?lang=jp</a></p></blockquote>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_21">ディレクトリ構造  <a class="anchor_super" id="he637667" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#he637667" title="he637667" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_22">WSLとWindowsのディレクトリ構造  <a class="anchor_super" id="bc8f8bc2" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#bc8f8bc2" title="bc8f8bc2" style="user-select:none;">&dagger;</a></h3>
<p>基本的にWSLとWindowsは独立したディレクトリ構造をとるが、WSL側からWindows側へのアクセスは可能。<br class="spacer" />
例えば、WSLからWindowsのCドライブ上Downloadディレクトリへの移動は、</p>
<pre>cd /mnt/c/Users/(your_accout_name)/Downloads/</pre>
<p>で可能である。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_23">トラブルシューティング  <a class="anchor_super" id="s9c37a6c" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#s9c37a6c" title="s9c37a6c" style="user-select:none;">&dagger;</a></h2>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_24">VS Code Server for WSL closed unexpectedlyが出て急に使えなくなる  <a class="anchor_super" id="he6396ed" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#he6396ed" title="he6396ed" style="user-select:none;">&dagger;</a></h3>
<p>なんだかイライラするバグか？WSL2なら起きないのだろうか（私はWSL1で起きた）。
腹が立ったので、UbuntuからWSLのバイナリを削除してやった。
治った。</p>
<p>具体的には、</p>
<pre>rm -rf ~/.vscode-server/bin/</pre>
<p>でつぶす。
どうせ、消しても再インストールされる。治ったからいいじゃないか。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_25">SSH接続がうまくいかない  <a class="anchor_super" id="dd510330" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#dd510330" title="dd510330" style="user-select:none;">&dagger;</a></h3>
<p>初期設定のまま、sshコマンドでWSLにログインしようとすると、以下のメッセージを吐かれてできないことがある。</p>
<pre>Connection closed by ipadress port 22</pre>
<p>①ssh-serverが動いているか確認する</p>
<pre>$ service ssh status</pre>
<p>動いていなければ、</p>
<pre>$ service ssh restart</pre>
<p>[OK]と表示されればssh-serverは動いている。</p>
<p>②鍵を作り直す
/etc/sshにあるはずの鍵を作り直す</p>
<pre>$ sudo dpkg-reconfigure openssh-server</pre>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_26">SSHがつながらなくなった(VSCODE)  <a class="anchor_super" id="y4f06ac5" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#y4f06ac5" title="y4f06ac5" style="user-select:none;">&dagger;</a></h3>
<p>以下のエラー表示が出るとき、</p>
<pre>プロセスが、存在しないパイプに書き込もうとしました。</pre>
<p>大抵、この表示の数行上に何がダメなのか表示されている。</p>
<pre>Host key verification failed.</pre>
<p>とエラーが出るとき</p>
<p>対処例①known_hostsを削除する</p>
<pre>C:\\Users\\[ユーザー名]/.ssh/known_hosts</pre>
<p>の接続できないサーバーの行を削除する。（元のファイルは一応バックアップを取っておくと安心）</p>
<p>対処例②configファイルを編集する</p>
<pre>C:\\Users\\[ユーザー名]/.ssh/config</pre>
<p>のIdentityFileをコメントアウトしてみる。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_27">FTPでデータをダウンロードできない  <a class="anchor_super" id="fc895eb7" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#fc895eb7" title="fc895eb7" style="user-select:none;">&dagger;</a></h3>
<p>どうやら、学内ネットワークからFTPで外部サーバーに入ろうとしても入れない様子。ブロックされている説が濃厚。
.bashrcに</p>
<pre>export https_proxy=&quot;http://proxy.kuins.net:8080/&quot;
export http_proxy=&quot;http://proxy.kuins.net:8080/&quot;
export ftp_proxy=&quot;http://proxy.kuins.net:8080/&quot;</pre>
<p>書き込んでも、できなかった。wgetはできるみたい。</p>


<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_28">HDDのマウントが自動解除されてしまう  <a class="anchor_super" id="a9a5f4d3" href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86#a9a5f4d3" title="a9a5f4d3" style="user-select:none;">&dagger;</a></h3>
<p>入江のWSで実際に起きている現象で、理由はよくわからない。
WSL UbuntuにマウントしたHDDが、busyとなり、Ubuntu側からのアクセスだけできなくなる現象（Win側からは通常通りアクセス可）
対策としては、一度マウントを解除してから、もう一度マウントするしか今のところわかっていない。</p>
<pre>sudo mount -t drvfs F: /mnt/f  #WSLにマウントする
sudo umount /mnt/f  #WSLでマウントを解除する
mount | grep /mnt/  #マウント状態の確認</pre>
</div><!-- □END id:body -->
<div id="summary"><!-- ■BEGIN id:summary -->
<!-- □END id:note -->
<div id="trackback"><!-- ■BEGIN id:trackback -->

</div><!-- □ END id:trackback -->
<!-- ■ BEGIN id:related -->
<div id="related">
Link: <a href="./">FrontPage</a><span class="page_passage" data-mtime="2024-06-25T12:10:49+09:00"></span>
 <a href="./?Windows%E3%81%A7%E3%83%AF%E3%83%BC%E3%82%AF%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AA%E3%81%A9%E3%81%AB%E6%8E%A5%E7%B6%9A%E3%81%99%E3%82%8B%E8%AB%B8%E3%80%85">Windowsでワークステーションなどに接続する諸々</a><span class="page_passage" data-mtime="2022-02-27T21:11:34+09:00"></span>
 <a href="./?Emacs">Emacs</a><span class="page_passage" data-mtime="2021-09-28T20:30:41+09:00"></span></div>
<!-- □ END id:related -->
<!-- □ END id:attach -->
</div><!-- □ END id:summary -->
</div><!-- □END id:content -->
</div><!-- □ END id:wrap_content -->
<!-- ◆sidebar◆ ========================================================== -->
<div id="wrap_sidebar"><!-- ■BEGIN id:wrap_sidebar -->
<div id="sidebar">
<div id="search_form" class="bar"><!-- ■BEGIN id:search_form -->
<h2>検索</h2>
<form action="./?cmd=search" method="post">
<div>
	<input type="hidden" name="encode_hint" value="ぷ" />
	<input type="text"  name="word" value="" size="20" />
	<input type="submit" value="検索" /><br />
	<input type="radio" name="type" value="AND" checked="checked" id="and_search" /><label for="and_search">AND検索</label>
  <input type="radio" name="type" value="OR" id="or_search" /><label for="or_search">OR検索</label>
</div>
</form>
</div><!-- END id:search_form -->
<div id="page_action" class="bar"><!-- ■BEGIN id:page_action -->
<h2>編集操作</h2>
<ul>
	<li class="pa_reload"><a href="./?WSL%E3%82%92%E4%BD%BF%E3%81%86">リロード</a></li>
	<li class="pa_newpage"><a href="./?plugin=newpage&amp;refer=WSL%E3%82%92%E4%BD%BF%E3%81%86">新規</a></li>
	<li class="pa_edit"><a href="./?cmd=edit&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">編集</a></li>
	<li class="pa_freeze"><a href="./?cmd=freeze&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">凍結</a></li>
	<li class="pa_attach"><a href="./?plugin=attach&amp;pcmd=upload&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">添付</a></li>
	<li class="pa_diff"><a href="./?cmd=diff&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">差分</a></li>
	<li class="pa_list"><a href="./?cmd=list">一覧</a></li>
	<li class="pa_serch"><a href="./?cmd=search">単語検索</a></li>
	<li class="pa_whatnew"><a href="./?RecentChanges">最終更新</a></li>
	<li class="pa_backup"><a href="./?cmd=backup&amp;page=WSL%E3%82%92%E4%BD%BF%E3%81%86">バックアップ</a></li>
	<li class="pa_help"><a href="./?Help">ヘルプ</a></li>
</ul>
</div><!-- □END id:page_action -->

<!-- ■BEGIN id:menubar -->
<div id="menubar" class="bar">
<h5>最新の20件</h5>
<div><strong>2024-12-14</strong>
<ul class="recent_list">
 <li><a href="./?MATLAB/Octave" class="link_page_passage" data-mtime="2024-12-14T15:55:34+09:00">MATLAB/Octave</a></li>
</ul>
<strong>2024-11-16</strong>
<ul class="recent_list">
 <li><a href="./?%E6%9A%B4%E9%A2%A8%E9%9B%A8%E8%A8%88%E7%AE%97%E6%A9%9F" class="link_page_passage" data-mtime="2024-11-16T15:25:24+09:00">暴風雨計算機</a></li>
 <li><a href="./?WS2023+%28climate02%29" class="link_page_passage" data-mtime="2024-11-16T15:18:52+09:00">WS2023 (climate02)</a></li>
</ul>
<strong>2024-11-11</strong>
<ul class="recent_list">
 <li><a href="./?Workstation+2020+%28orihime%29" class="link_page_passage" data-mtime="2024-11-11T13:56:15+09:00">Workstation 2020 (orihime)</a></li>
</ul>
<strong>2024-11-06</strong>
<ul class="recent_list">
 <li><a href="./?RAID+2021+%28stratus%29" class="link_page_passage" data-mtime="2024-11-06T13:46:27+09:00">RAID 2021 (stratus)</a></li>
</ul>
<strong>2024-09-13</strong>
<ul class="recent_list">
 <li><a href="./?WRF" class="link_page_passage" data-mtime="2024-09-13T14:06:18+09:00">WRF</a></li>
</ul>
<strong>2024-06-25</strong>
<ul class="recent_list">
 <li><a href="./?PALM" class="link_page_passage" data-mtime="2024-06-25T12:13:39+09:00">PALM</a></li>
 <li><a href="./" class="link_page_passage" data-mtime="2024-06-25T12:10:49+09:00">FrontPage</a></li>
</ul>
<strong>2024-04-08</strong>
<ul class="recent_list">
 <li>WSLを使う</li>
</ul>
<strong>2024-04-04</strong>
<ul class="recent_list">
 <li><a href="./?%E9%A3%B2%E3%81%BF%E4%BC%9A" class="link_page_passage" data-mtime="2024-04-04T14:57:04+09:00">飲み会</a></li>
</ul>
<strong>2024-03-03</strong>
<ul class="recent_list">
 <li><a href="./?%E7%A0%94%E7%A9%B6%E5%AE%A4%E5%86%85%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF" class="link_page_passage" data-mtime="2024-03-03T23:28:36+09:00">研究室内ネットワーク</a></li>
</ul>
<strong>2024-03-01</strong>
<ul class="recent_list">
 <li><a href="./?Python" class="link_page_passage" data-mtime="2024-03-01T11:01:53+09:00">Python</a></li>
</ul>
<strong>2023-08-18</strong>
<ul class="recent_list">
 <li><a href="./?RAID+2021+%28cyclone%29" class="link_page_passage" data-mtime="2023-08-18T01:01:39+09:00">RAID 2021 (cyclone)</a></li>
</ul>
<strong>2023-07-10</strong>
<ul class="recent_list">
 <li><a href="./?RAID+2023+%28climate01%29" class="link_page_passage" data-mtime="2023-07-10T14:51:16+09:00">RAID 2023 (climate01)</a></li>
</ul>
<strong>2023-07-07</strong>
<ul class="recent_list">
 <li><a href="./?%E5%87%BA%E5%BC%B5%E6%89%8B%E7%B6%9A%E3%81%8D" class="link_page_passage" data-mtime="2023-07-07T14:53:42+09:00">出張手続き</a></li>
</ul>
<strong>2023-06-28</strong>
<ul class="recent_list">
 <li><a href="./?Workstation+2020+%28virga%29" class="link_page_passage" data-mtime="2023-06-28T14:52:45+09:00">Workstation 2020 (virga)</a></li>
</ul>
<strong>2023-05-29</strong>
<ul class="recent_list">
 <li><a href="./?Workstation+2022+%28cirrus%29" class="link_page_passage" data-mtime="2023-05-29T16:35:39+09:00">Workstation 2022 (cirrus)</a></li>
</ul>
<strong>2023-04-06</strong>
<ul class="recent_list">
 <li><a href="./?ESET%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB_Ubuntu%E7%B7%A8" class="link_page_passage" data-mtime="2023-04-06T12:49:07+09:00">ESETのインストール_Ubuntu編</a></li>
 <li><a href="./?%E3%82%A6%E3%82%A4%E3%83%AB%E3%82%B9%E5%AF%BE%E7%AD%96%E3%82%BD%E3%83%95%E3%83%88%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%28202003%7E%29" class="link_page_passage" data-mtime="2023-04-06T12:46:54+09:00">ウイルス対策ソフトのインストール(202003~)</a></li>
</ul>
<strong>2023-04-03</strong>
<ul class="recent_list">
 <li><a href="./?%E3%83%97%E3%83%AA%E3%83%B3%E3%82%BF%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90" class="link_page_passage" data-mtime="2023-04-03T20:08:32+09:00">プリンタドライバ</a></li>
</ul>
</div>
</div>
<!-- □END id:menubar -->

</div><!-- □END id:sidebar -->
</div><!-- □END id:wrap_sidebar -->
</div><!-- □END id:main -->
<!-- ◆ Footer ◆ ========================================================== -->
<div id="footer"><!-- ■BEGIN id:footer -->
<div id="copyright"><!-- ■BEGIN id:copyright -->
 Copyright (C) 2014--2016 by Takashi Unuma All Rights Reserved. <p />
 <strong>PukiWiki 1.5.3</strong> &copy; 2001-2020 <a href="https://pukiwiki.osdn.jp/">PukiWiki Development Team</a> Powered by PHP 7.2.24-0ubuntu0.18.04.17. HTML convert time: 0.054 sec.
</div><!-- □END id:copyright -->
</div><!-- □END id:footer -->
<!-- ◆ END ◆ ============================================================= -->
</div><!-- □END id:wrapper -->

</body>
</html>
